TPW - Total Page Weight

WHAT IT MEASURES
Total page size including all resources (HTML, CSS, JavaScript, images, fonts, and other assets), measured in megabytes. Total page weight directly impacts load time, especially on slower connections and mobile devices.

The metric calculates:
- Sum of all resource sizes
- Total page payload
- Impact on load time
- Bandwidth usage

Resource types included:
- HTML documents
- CSS stylesheets
- JavaScript files
- Images (all formats)
- Fonts
- Other assets

HOW IT'S MEASURED
PerformanceResourceTiming analysis summing all resource sizes (HTML, CSS, JS, images, fonts). The measurement process:

1. Gets all resources:
   - Uses PerformanceResourceTiming API
   - Retrieves all resource timing entries
   - Identifies all loaded resources

2. Calculates total size:
   - Sums decodedBodySize (uncompressed) for all resources
   - May also consider transferSize (compressed)
   - Returns total in megabytes

WHY IT'S IMPORTANT
Total page weight directly impacts load time, especially on slower connections. Lighter pages load faster, use less bandwidth, and provide better user experience, especially on mobile devices.

Performance impact:
- Directly affects load time
- Impacts mobile performance significantly
- Increases bandwidth usage
- Delays content visibility
- Affects all performance metrics

User experience:
- Slower page loads on slow connections
- Higher data usage costs
- Poor mobile experience
- Increased bounce rates
- Frustration for users

THRESHOLDS
- Good: ≤ 2MB (Light page, good performance)
- Needs Improvement: 2-4MB (Moderate page weight)
- Poor: ≥ 4MB (Heavy page, performance issues)

Note: Thresholds are lower for mobile (typically 1-2MB).

COMMON PITFALLS
1. Large page weight: Total size too large
2. Unoptimized resources: Resources not compressed or optimized
3. Too many resources: Excessive number of resources
4. No size optimization: Missing optimization efforts
5. Growing page weight: Page size increasing over time
6. No performance budgets: Missing size limits

OPTIMIZATION STRATEGIES
1. Reduce total page weight: Minimize overall page size
2. Optimize all resources: Compress and optimize all assets
3. Remove unused resources: Eliminate unnecessary files
4. Compress everything: Use gzip/brotli compression
5. Implement budgets: Set and enforce size limits
6. Monitor page weight: Track size over time
7. Test on slow connections: Verify performance on 3G/4G
8. Set size goals: Establish target page weights


HISTORY
Resource optimization metrics became critical as web pages grew in complexity. Image optimization techniques evolved from simple compression to modern formats like WebP (2010) and AVIF (2019). Code splitting and tree shaking emerged with modern JavaScript bundlers in the 2010s. Performance budgets became a standard practice as mobile web usage highlighted the importance of resource efficiency.

BROWSER SUPPORT
Modern browsers (Chrome, Firefox, Safari, Edge) support performance measurement through the Performance API. The PerformanceObserver API, required for many measurements, is supported in all major browsers released after 2016. Some metrics may have limited support in older browsers or require polyfills. Browser DevTools provide built-in performance measurement capabilities.

INDUSTRY STANDARDS
This metric aligns with W3C web standards and is used by major performance monitoring tools including Google PageSpeed Insights, Lighthouse, WebPageTest, and Real User Monitoring (RUM) solutions. Thresholds are based on research into user perception of performance, industry best practices, and data from the Chrome User Experience Report (CrUX).

MEASUREMENT LIMITATIONS
Client-side measurement may be affected by device capabilities, network conditions, browser implementation differences, and user environment. Some measurements require specific browser APIs that may not be available in all environments. Automated testing may produce different results than real user experiences. Measurements are most accurate when performed in production environments with real user data.


SOURCES
- See metrics.txt for detailed sources
