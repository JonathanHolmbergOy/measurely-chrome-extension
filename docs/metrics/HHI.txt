HHI - Heading Hierarchy Issues

WHAT IT MEASURES
Number of heading elements (h1-h6) with incorrect level progression. Proper heading hierarchy is essential for screen reader navigation and document structure. Headings should follow a logical, sequential order (h1 → h2 → h3, etc.) without skipping levels.

Proper heading hierarchy:
- h1: Main page title (typically one per page)
- h2: Major section headings
- h3: Subsections under h2
- h4: Subsections under h3
- h5-h6: Further nested subsections

Common hierarchy issues:
- Skipped levels: h1 → h3 (skipping h2)
- Multiple h1: More than one h1 per page (usually should be one)
- Incorrect order: h3 before h2, h4 before h3, etc.
- Missing structure: No clear heading hierarchy

HOW IT'S MEASURED
DOM analysis checking heading elements (h1-h6) for proper sequential hierarchy without skipping levels. The measurement process:

1. Identifies all headings:
   - Finds all h1-h6 elements in DOM
   - Records heading level and order
   - Tracks heading sequence

2. Validates hierarchy:
   - Checks for sequential order (no skipping)
   - Verifies h1 appears first (if present)
   - Ensures h2 comes before h3, etc.
   - Checks for multiple h1 elements

3. Flags violations:
   - Skipped heading levels
   - Incorrect heading order
   - Multiple h1 elements (if not allowed)
   - Missing heading structure

4. Returns count:
   - Total number of hierarchy violations
   - May include details about specific issues

WHY IT'S IMPORTANT
Screen reader users navigate by headings. Incorrect hierarchy makes document structure confusing and hard to navigate, violating WCAG guidelines and creating accessibility barriers.

Accessibility impact:
- Screen reader users rely on headings for navigation
- Incorrect hierarchy confuses document structure
- Violates WCAG 2.1 Success Criterion 1.3.1 (Info and Relationships) - Level A
- Makes content difficult to understand
- Reduces navigation efficiency

User experience:
- Confusing document structure
- Difficult navigation
- Reduced content comprehension
- Poor user experience for assistive technology users

SEO impact:
- Search engines use headings to understand content structure
- Incorrect hierarchy may affect SEO
- Headings help search engines understand page organization

THRESHOLDS
- Good: 0 errors (Proper heading hierarchy)
- Needs Improvement: 1-2 errors (Minor hierarchy issues)
- Poor: ≥ 3 errors (Significant structure problems)

Even a few hierarchy issues can confuse navigation. The threshold reflects that proper heading structure is critical for accessibility.

COMMON PITFALLS
1. Skipped heading levels: Jumping from h1 to h3, h2 to h4, etc.
2. h1 used multiple times: Multiple h1 elements (usually should be one)
3. Incorrect heading order: h3 before h2, h4 before h3, etc.
4. Missing heading structure: No clear hierarchy, headings used for styling
5. Headings for styling: Using headings for visual styling instead of structure
6. No h1: Page missing main heading
7. Inconsistent hierarchy: Different sections with different hierarchy patterns
8. Nested heading issues: Incorrect nesting in components or sections

OPTIMIZATION STRATEGIES
1. Use single h1 per page: One main heading per page
2. Maintain sequential heading order: Don't skip levels (h1 → h2 → h3)
3. Don't skip levels: Always use next level in sequence
4. Create logical document structure: Use headings to reflect content hierarchy
5. Use headings for structure, not styling: Use CSS for visual styling
6. Start with h1: Begin page with h1 for main title
7. Test with screen readers: Verify heading navigation works correctly
8. Review heading structure: Ensure hierarchy makes logical sense
9. Use heading outline tools: Validate heading structure
10. Document heading guidelines: Establish standards for heading usage


HISTORY
Web accessibility standards began with WCAG 1.0 in 1999, evolving to WCAG 2.0 (2008), WCAG 2.1 (2018), and WCAG 2.2 (2023). ARIA (Accessible Rich Internet Applications) was first published by W3C in 2014 to address accessibility gaps in dynamic web content. The Web Content Accessibility Guidelines have become legal requirements in many jurisdictions, driving adoption of accessibility metrics and testing tools.

INDUSTRY STANDARDS
This metric aligns with W3C web standards and is used by major performance monitoring tools including Google PageSpeed Insights, Lighthouse, WebPageTest, and Real User Monitoring (RUM) solutions. Thresholds are based on research into user perception of performance, industry best practices, and data from the Chrome User Experience Report (CrUX).

RELATED METRICS
This metric is part of a comprehensive performance measurement framework. Related metrics provide complementary insights: timing metrics measure speed, resource metrics measure efficiency, and user experience metrics measure perceived quality. Together, these metrics provide a holistic view of web performance.

MEASUREMENT LIMITATIONS
Client-side measurement may be affected by device capabilities, network conditions, browser implementation differences, and user environment. Some measurements require specific browser APIs that may not be available in all environments. Automated testing may produce different results than real user experiences. Measurements are most accurate when performed in production environments with real user data.


SOURCES
- See metrics.txt for detailed sources
