AAA - ARIA Allowed Attributes
==============================

OVERVIEW
--------
Rule ID: aria-allowed-attr
Impact: Critical
Category: Accessibility (ARIA Validation)
WCAG: 2.0 Level A (4.1.2 Name, Role, Value)

Description:
Ensures that elements with ARIA roles only use ARIA attributes that are explicitly allowed for that role. Using disallowed ARIA attributes can cause screen readers to behave unpredictably or ignore important information.

Thresholds:
- Good: 0 violations
- Poor: â‰¥ 1 violation


WHY IT MATTERS
--------------
Each ARIA role has a specific set of supported attributes. Using attributes that aren't allowed for a role:
- Can be ignored by assistive technologies
- May cause incorrect interpretation by screen readers
- Violates ARIA specification and WCAG 4.1.2
- Creates confusion about element behavior and state


COMMON VIOLATIONS
-----------------
1. Using aria-expanded on elements without button/link/menu roles
2. Adding aria-checked to non-checkbox/radio/switch elements
3. Using aria-multiline on non-textbox elements
4. Applying aria-level to elements without heading role
5. Using input-specific attributes on non-input roles


DETECTION METHOD
----------------
Client-side validation that:
1. Finds all elements with role attributes
2. Maps each role to its allowed ARIA attributes
3. Checks if element has any disallowed ARIA attributes
4. Reports violations with element type and attribute name


HOW TO FIX
----------
1. Review ARIA specification for the role
2. Remove disallowed attributes from element
3. If attribute is needed, change element's role
4. Use native HTML attributes when possible instead


EXAMPLE ISSUES
--------------
Bad:
<div role="img" aria-expanded="false">Logo</div>
<span role="button" aria-checked="true">Toggle</span>
<div role="link" aria-multiline="true">Click here</div>

Good:
<div role="img" aria-label="Company Logo"></div>
<button role="button" aria-pressed="true">Toggle</button>
<a role="link" href="#">Click here</a>


BROWSER SUPPORT
---------------
- Chrome/Edge: Full support
- Firefox: Full support
- Safari: Full support
- Screen Readers: JAWS, NVDA, VoiceOver all respect allowed attributes


RELATED RULES
-------------
- ARA (ARIA Required Attributes)
- ARV (ARIA Roles Valid)
- AVA (ARIA Valid Attributes)


SOURCES
-------
- W3C ARIA Specification: https://www.w3.org/TR/wai-aria-1.2/
- MDN ARIA Attributes: https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Attributes
- axe-core Rule: https://github.com/dequelabs/axe-core/blob/develop/doc/rule-descriptions.md#aria-allowed-attr
- WCAG 4.1.2: https://www.w3.org/WAI/WCAG21/Understanding/name-role-value.html

