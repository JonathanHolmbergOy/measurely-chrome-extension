TTFB - Time to First Byte

WHAT IT MEASURES
Time from when the browser makes an HTTP request to when it receives the first byte of the response from the server. TTFB measures server response speed and network latency, indicating how quickly the server can start sending data.

TTFB includes:
- DNS lookup time: Resolving domain name to IP
- TCP connection time: Establishing TCP connection
- TLS negotiation: SSL/TLS handshake (for HTTPS)
- Server processing time: Server generating response
- Network latency: Data travel time

The metric measures:
- responseStart - requestStart
- Total time until first byte
- Server and network performance
- Impact on all subsequent metrics

HOW IT'S MEASURED
PerformanceNavigationTiming API, calculating responseStart - requestStart from navigation timing entries. The measurement process:

1. Gets navigation timing:
   - Uses PerformanceNavigationTiming API
   - Extracts requestStart and responseStart
   - Calculates difference

2. Returns TTFB:
   - Time in milliseconds
   - Indicates server responsiveness

WHY IT'S IMPORTANT
Indicates server performance and network conditions. High TTFB delays all subsequent metrics including FCP and LCP, as the browser must wait for the server response before it can start rendering.

Performance impact:
- Delays First Contentful Paint
- Affects Largest Contentful Paint
- Impacts all resource loading
- Sets baseline for page load
- Critical for overall performance

User experience:
- Slower perceived page load
- Delayed content visibility
- Poor mobile experience
- Increased bounce rates

THRESHOLDS
- Good: ≤ 600ms (Fast server response)
- Needs Improvement: 600-1000ms (Moderate response time)
- Poor: ≥ 1000ms (Slow server response, performance issues)

COMMON PITFALLS
1. Slow server processing: Server taking too long to generate response
2. Database query delays: Slow database queries
3. Server location far from users: Geographic distance
4. Insufficient server resources: Server overloaded
5. Lack of CDN: Not using Content Delivery Network
6. No caching: Missing server-side caching
7. Inefficient server code: Poorly optimized server-side code

OPTIMIZATION STRATEGIES
1. Use CDN: Serve content from CDN closer to users
2. Optimize server-side code: Improve server processing efficiency
3. Implement caching: Add server-side caching
4. Reduce database query time: Optimize database queries
5. Use edge computing: Process requests closer to users
6. Optimize server configuration: Tune server settings
7. Monitor TTFB: Track server response times
8. Test from multiple locations: Verify performance globally


TECHNICAL IMPLEMENTATION
TTFB includes DNS lookup time, TCP connection time, TLS negotiation time (for HTTPS), and server processing time. It measures responseStart - requestStart from the Navigation Timing API. TTFB is measured in milliseconds and affects all subsequent loading metrics.

HISTORY
Time to First Byte (TTFB) is one of the oldest and most fundamental web performance metrics:

1990s: When the web was young, TTFB was essentially the only performance metric. Developers would measure how long it took for servers to respond to requests. With simple static HTML pages, TTFB was often the primary factor in page load speed.

Early 2000s: As web applications became more complex, TTFB remained critical but was often overshadowed by flashier metrics like page load time. However, TTFB continued to be a key indicator of server performance and network conditions.

2010: Google announced that page speed would be a ranking factor in search results. While they didn't specify exact metrics, TTFB was implicitly important because it affects all subsequent loading metrics.

2012: The W3C Navigation Timing API standardized TTFB measurement through the Performance Timeline specification. TTFB could now be accurately measured as `responseStart - requestStart` using browser APIs. This made TTFB measurement consistent across browsers and tools.

The Navigation Timing API revealed that TTFB includes:
- DNS lookup time
- TCP connection time
- TLS negotiation (for HTTPS)
- Server processing time
- Network latency (first byte transmission)

2014: With the rise of Single Page Applications (SPAs) and heavy JavaScript frameworks, TTFB became even more critical. A slow TTFB delays everything: HTML parsing, CSS loading, JavaScript execution, and ultimately, user-visible content.

2015-2020: CDN (Content Delivery Network) adoption grew rapidly, in part to reduce TTFB by serving content from edge locations closer to users. Edge computing and serverless architectures also emerged, promising faster response times.

2020: Google's Core Web Vitals initiative didn't include TTFB as a Core Web Vital, but it was recognized as a critical supporting metric. Poor TTFB directly impacts LCP (Largest Contentful Paint) and FCP (First Contentful Paint), both key loading metrics.

Google established informal TTFB guidelines:
- Good: ≤ 600ms
- Needs Improvement: 600-1000ms
- Poor: ≥ 1000ms

These thresholds account for real-world conditions including mobile networks, international connections, and varying server capabilities.

2021-Present: TTFB remains a foundational metric in web performance monitoring. It's tracked by all major tools (Lighthouse, WebPageTest, Chrome User Experience Report) and is often the first metric to optimize when improving page speed.

Modern TTFB optimization techniques include:
- Using CDNs for edge caching
- Implementing server-side caching
- Optimizing database queries
- Using HTTP/2 and HTTP/3 for better connection management
- Implementing edge computing for dynamic content
- Optimizing Time to First Byte through server configuration tuning

TTFB is particularly important for:
- E-commerce sites where every millisecond affects conversion
- News sites competing for immediate information delivery
- Global sites serving users across continents
- Mobile users on variable network conditions

Research shows strong correlation between TTFB and user experience. Sites with TTFB < 200ms feel nearly instant, while sites with TTFB > 1000ms feel noticeably slow, even before content appears.

BROWSER SUPPORT
Modern browsers (Chrome, Firefox, Safari, Edge) support performance measurement through the Performance API. The PerformanceObserver API, required for many measurements, is supported in all major browsers released after 2016. Some metrics may have limited support in older browsers or require polyfills. Browser DevTools provide built-in performance measurement capabilities.

INDUSTRY STANDARDS
This metric aligns with W3C web standards and is used by major performance monitoring tools including Google PageSpeed Insights, Lighthouse, WebPageTest, and Real User Monitoring (RUM) solutions. Thresholds are based on research into user perception of performance, industry best practices, and data from the Chrome User Experience Report (CrUX).

RELATED METRICS
This metric is part of a comprehensive performance measurement framework. Related metrics provide complementary insights: timing metrics measure speed, resource metrics measure efficiency, and user experience metrics measure perceived quality. Together, these metrics provide a holistic view of web performance.

MEASUREMENT LIMITATIONS
Client-side measurement may be affected by device capabilities, network conditions, browser implementation differences, and user environment. Some measurements require specific browser APIs that may not be available in all environments. Automated testing may produce different results than real user experiences. Measurements are most accurate when performed in production environments with real user data.


SOURCES
- See metrics.txt for detailed sources
